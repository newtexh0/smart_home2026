/* SMART HOME MASTER STYLESHEET */

:root {
    --primary-color: #0056b3;
    --primary-dark: #004494;
    --bg-color: #f0f2f5;
    --card-bg: #ffffff;
    --text-main: #212529;      /* Darker for better readability */
    --text-secondary: #495057; /* Dark gray */
    --success: #34c759;        /* Apple Green */
    --danger: #dc3545;
    --focus-ring: #ffc107;
    --border-radius: 16px;
    --shadow: 0 4px 12px rgba(0,0,0,0.08);
}

/* --- Accessibility Modes --- */
body.high-contrast { 
    --primary-color: #000; --primary-dark: #000; 
    --bg-color: #fff; --card-bg: #fff; 
    --text-main: #000; --text-secondary: #000;
    border: 3px solid black; 
}
body.dyslexia-font { 
    font-family: 'Verdana', 'Comic Sans MS', sans-serif !important; 
    letter-spacing: 0.5px; line-height: 1.8; 
}
body.reduce-motion *, body.reduce-motion *::after, body.reduce-motion *::before { 
    animation: none !important; transition: none !important; scroll-behavior: auto !important;
}

/* Color Simulations */
body.sim-achromatopsia { filter: grayscale(100%); }
body.sim-protanopia { filter: sepia(60%) hue-rotate(10deg) saturate(140%); }
body.sim-deuteranopia { filter: sepia(50%) hue-rotate(50deg) saturate(160%); }

/* --- Base Styles --- */
body {
    font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
    background-color: var(--bg-color);
    color: var(--text-main);
    margin: 0;
    padding-bottom: 80px;
    transition: background-color 0.3s ease, color 0.3s ease;
}

h1, h2, h3, h4 { color: #000; font-weight: 700; margin-bottom: 0.5rem; }
p { color: var(--text-secondary); line-height: 1.6; }

.container { max-width: 1200px; margin: 0 auto; padding: 20px; }

/* --- Navigation --- */
header { padding: 20px 0; text-align: center; }
nav {
    background: var(--card-bg); padding: 15px; border-radius: 12px;
    margin-bottom: 25px; box-shadow: var(--shadow);
}
nav ul {
    list-style: none; padding: 0; margin: 0; display: flex;
    justify-content: center; flex-wrap: wrap; gap: 10px;
}
nav a {
    text-decoration: none; color: var(--text-main); font-weight: 600;
    padding: 10px 18px; border-radius: 8px; transition: all 0.2s;
}
nav a:hover, nav a[aria-current="page"] {
    background-color: var(--primary-color); color: white;
}

/* --- Grid & Cards --- */
.grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 24px; }

.card {
    background: var(--card-bg); padding: 24px; border-radius: var(--border-radius);
    box-shadow: var(--shadow); display: flex; flex-direction: column; justify-content: space-between;
    border: 1px solid rgba(0,0,0,0.05); transition: transform 0.2s;
}

/* --- 3D IoT Toggle Switch --- */
.iot-switch {
    position: relative; width: 85px !important; height: 45px !important; border-radius: 100px !important;
    border: 5px solid #f0f0f0; background-color: #d1d1d1;
    box-shadow: 0 8px 15px rgba(0,0,0,0.1), inset 0 4px 8px rgba(0,0,0,0.2);
    cursor: pointer; transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
    appearance: none; -webkit-appearance: none; outline: none; flex-shrink: 0;
}
.iot-switch::after {
    content: ''; position: absolute; top: 2px; left: 4px; width: 32px; height: 32px; border-radius: 50%;
    background: radial-gradient(circle at 30% 30%, #fff 0%, #e0e0e0 100%);
    box-shadow: 0 4px 6px rgba(0,0,0,0.3); transition: transform 0.4s cubic-bezier(0.5, 1.6, 0.4, 0.7);
}
.iot-switch.active { background-color: var(--success) !important; }
.iot-switch.active::after { transform: translateX(36px); }
.iot-switch.security-mode.active { background-color: #007aff !important; }
.iot-switch:focus-visible { outline: 3px solid var(--focus-ring); outline-offset: 4px; }

/* --- Interactive Scenes --- */
.scene-card { cursor: pointer; border: 2px solid transparent; position: relative; }
.scene-card:hover { transform: translateY(-3px); }
.scene-card.active-scene { 
    border-color: var(--primary-color); background: #f0f9ff; 
    box-shadow: 0 8px 20px rgba(0, 86, 179, 0.15);
}
.scene-icon { font-size: 2.5rem; margin-bottom: 10px; color: #aaa; transition: 0.3s; }
.scene-card.active-scene .scene-icon { color: var(--primary-color); }
.scene-status-text { font-size: 0.85rem; font-weight: 700; color: #888; text-transform: uppercase; margin-bottom: 5px; }

.scene-loader { 
    position: absolute; top: 20px; right: 20px; width: 22px; height: 22px; 
    border: 3px solid #eee; border-top-color: var(--primary-color); border-radius: 50%; 
    animation: spin 1s infinite linear; display: none;
}
.scene-power-indicator {
    position: absolute; top: 20px; right: 20px; width: 12px; height: 12px; 
    background: #ccc; border-radius: 50%; transition: 0.3s;
}
.scene-card.active-scene .scene-power-indicator { background: var(--success); box-shadow: 0 0 8px var(--success); }

/* Animations */
@keyframes spin { 100% { transform: rotate(360deg); } }
.pulse-animation { animation: pulse 2s infinite; }
@keyframes pulse { 0% { transform: scale(1); text-shadow: 0 0 0 rgba(0,86,179,0.4); } 70% { transform: scale(1.1); text-shadow: 0 0 10px rgba(0,86,179,0); } 100% { transform: scale(1); } }

/* --- Utilities --- */
.device-row, .dash-row { 
    display: flex; justify-content: space-between; align-items: center; 
    padding: 15px 0; border-bottom: 1px solid #eee; width: 100%;
}
.device-row:last-child { border-bottom: none; }
.device-info { display: flex; align-items: center; gap: 15px; font-weight: 600; font-size: 1.05rem; }
.device-info i { width: 30px; text-align: center; color: var(--text-secondary); }

.status-badge { padding: 4px 10px; border-radius: 6px; font-weight: bold; font-size: 0.8rem; text-transform: uppercase; }
.status-active { background: #d1e7dd; color: #0f5132; }
.status-inactive { background: #f8d7da; color: #842029; }

/* Image Placeholders */
.img-placeholder { 
    width: 100%; height: 160px; background: #e9ecef; border-radius: 8px; 
    display: flex; align-items: center; justify-content: center; 
    color: #6c757d; font-weight: bold; margin-bottom: 15px; border: 2px dashed #ced4da;
}

/* Toast Notification */
#toast { 
    visibility: hidden; position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%); 
    background: #212529; color: #fff; padding: 16px 24px; border-radius: 8px; z-index: 999; 
    font-size: 1rem; box-shadow: 0 5px 15px rgba(0,0,0,0.3);
}
#toast.show { visibility: visible; animation: fadein 0.5s, fadeout 0.5s 2.5s; }
@keyframes fadein { from {bottom: 0; opacity: 0;} to {bottom: 30px; opacity: 1;} }
@keyframes fadeout { from {bottom: 30px; opacity: 1;} to {bottom: 0; opacity: 0;} }

/* Accessibility Page Specifics */
input[type=range] { width: 100%; max-width: 200px; accent-color: var(--primary-color); cursor: pointer; }
.motion-demo-icon { font-size: 1.5rem; color: var(--primary-color); animation: spin 2s linear infinite; margin-right: 15px; }

/* --- تحديث قسم الترحيب لزيادة وضوح النص --- */

.welcome-banner { 
    background: linear-gradient(135deg, var(--primary-color), #003366); 
    color: white; 
    padding: 30px; 
    border-radius: 16px; 
    margin-bottom: 25px; 
    display: flex; 
    justify-content: space-between; 
    align-items: center;
    box-shadow: 0 4px 15px rgba(0, 50, 100, 0.2); /* ظل للصندوق لبروزه */
}

.welcome-text h2 { 
    color: #ffffff; /* أبيض ناصع */
    margin: 0; 
    font-weight: 800; /* خط أعرض */
    text-shadow: 0 2px 4px rgba(0,0,0,0.3); /* ظل للنص */
}

.welcome-text p { 
    color: #ffffff !important; /* إجبار اللون الأبيض */
    margin: 8px 0 0; 
    opacity: 1 !important; /* إلغاء الشفافية تماماً */
    font-weight: 500; /* زيادة سمك الخط قليلاً */
    font-size: 1.1rem; /* تكبير الخط قليلاً */
    text-shadow: 0 1px 2px rgba(0,0,0,0.3); /* ظل خفيف لزيادة القراءة */
}

.live-clock { 
    color: #ffffff;
    font-size: 2.5rem; 
    font-weight: 300; 
    text-shadow: 0 2px 4px rgba(0,0,0,0.3);
}

/* --- تحسين عام لجميع النصوص الرمادية في الموقع --- */
p {
    color: #333333; /* استبدال الرمادي الفاتح برمادي داكن جداً للقراءة */
}

/* أضف هذا الكود في ملف css/style.css */
.real-img {
    width: 100%;
    height: 180px; /* ارتفاع موحد للصور */
    object-fit: cover; /* لضمان عدم تمطط الصورة */
    border-radius: 8px;
    margin-bottom: 15px;
    border: 1px solid #dee2e6;
}